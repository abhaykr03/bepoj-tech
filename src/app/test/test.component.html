<div class="bg-white rounded-3 shadow p-4 my-3">
  <div class="row">
      <div class="col">
          <h3 class="text-black">Dealrships</h3>
      </div>
      <div class="col text-end" >
          <div (click)="openDialog()">
            <a class="btn btn-primary" routerLink="" #openModal  data-bs-toggle="modal" data-bs-target="#exampleModal">
              <img src="../../assets/Group 1.svg" alt="add icon">
              Add Dealer
            </a>
          </div>
      </div>
  </div>
  <hr>
  <div class="row justify-content-between">
    <div class="col-md-4">
      <div class="search"> <i class="fa fa-search"></i>
        <input type="text" class="form-control" placeholder="Search your query here...">
      </div>
    </div>
    <div class="col-md-6 justify-content-center align-items-center">
      <p class="mb-0 text-end text-secondary">Showing results 1-6</p>
    </div>
  </div>
  <div class="table-responsive mt-4">
      <table class="table table-bordered">
          <thead class="bg-dark">
              <tr class="text-center">
                  <th class=" text-white border-0"><span class="ps-2">S.NO.</span></th>
                  <th class=" text-white border-0">Name</th>
                  <th class=" text-white border-0">Amount Of Cars</th>
                  <th class=" text-white border-0">Total Budget</th>
                  <th class=" text-white border-0">Remaining Budget</th>
                  <th class=" text-white border-0 text-center">ACTION</th>
              </tr>
          </thead>
          <tbody>
              <tr class="text-center" *ngFor="let dealer of dealersInfo.dealers; let dIndex = index" >
                  <td class="">{{dIndex+1}}.</td>
                  <td class="">{{dealer.name}}</td>
                  <td class="">{{dealer.cars.length}}</td>
                  <td class="">${{dealer.totalBudget}}</td>
                  <td class="">${{getRemainingAmount(dealer)}}</td>
                  <td class="">
                     <a class="btn btn-primary btn-sm me-1">
                      <img src="../../assets/view.svg" alt="view icon">
                      View
                     </a>
                     <a class="btn btn-success btn-sm px-1" (click)="editUser(dIndex,openModal)" >
                      <img src="../../assets/edit.svg" alt="edit icon">
                      Edit
                     </a>
                     <a class="btn btn-danger btn-sm ms-1" (click)="deleteUser(dIndex)">
                      <img src="../../assets/delete.svg" alt="delete icon">
                      Delete
                     </a>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
  <div class="row text ">
      <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
          </ul>
        </nav>
  </div>


  <div class="modal fade" id="exampleModal" #exampleModal tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-sm modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h5 class="modal-title" id="exampleModalLabel">{{isEdit ? "Edit" : "Add"}} Dealer</h5>
            <span>
              All fields are mandatory.<span class="text-danger">*</span>
            </span>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <form [formGroup]="userForm" >
            <div class="row">
              <div class="col-3 align-items-center">
                <h6>Dealer's Name :</h6>
              </div>
              <div class="col-9">
                <input placeholder="Dealer's Name" type="text" formControlName="name" class="form-control">
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-3">
                <h6>Location :</h6>
              </div>
              <div class="col-9 d-flex justify-content-between">
                <div class="col-6"><input type="text" placeholder="longitude" formControlName="longitude" class="form-control"></div>
                <div class="col-6"><input type="text" placeholder="latitude" formControlName="latitude" class="form-control"></div>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-3 align-items-center">
                <h6>Total Budget :</h6>
              </div>
              <div class="col-9">
                <input placeholder="$0.00" type="text" formControlName="totalBudget" class="form-control">
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-3 align-items-center">
                <h6>Owner's First Name :</h6>
              </div>
              <div class="col-9">
                <input placeholder="First Name" type="text" formControlName="ownerFName" class="form-control">
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-3 align-items-center">
                <h6>Owner's Last Name :</h6>
              </div>
              <div class="col-9">
                <input placeholder="Last Name" type="text" formControlName="ownerLName" class="form-control">
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" #modalClose data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" (click)="addDealer(modalClose)" [disabled]="!userForm.valid" >Save changes</button>
        </div>
      </div>
    </div>
  </div>
</div>


